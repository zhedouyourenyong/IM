syntax = "proto3";

package com.zzh.protobuf;
option java_outer_classname = "Protocol";

message Msg {

    //消息唯一id
    string id = 1;

    //发送时间
    string timeStamp = 2;

    //会话ID
    string sessionId = 3;

    //发送者userId
    string fromId = 4;

    //发送者模块
    Module fromModule = 5;

    //接收者userId
    string destId = 6;

    //接收者模块
    Module destModule = 7;

    //消息类型
    MsgType msgType = 8;

    //消息体，json，格式由消息类型决定
    string msgBody = 9;

    //扩展字段
    string addition = 10;
}

enum Module {
    CLIENT = 0;
    SERVER = 1;
    TRANSFER = 2;
}

enum MsgType {
    SINGLE = 0; //私聊消息
    GROUP = 2; //群聊消息
    GREET = 3; //登录问候
    ACK = 4; //ack
    ERROR = 5; //错误
    HEART = 6; //心跳
    OFFLINE = 7; //下线
}